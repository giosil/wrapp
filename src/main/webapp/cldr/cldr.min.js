!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof module&&"object"==typeof module.exports?module.exports=t():e.Cldr=t()}(this,function(){var e=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},t=function(t,n){if(e(t)&&(t=t.join("/")),"string"!=typeof t)throw new Error('invalid path "'+t+'"');return t=t.replace(/^\//,"").replace(/^cldr\//,""),(t=t.replace(/{[a-zA-Z]+}/g,function(e){return e=e.replace(/^{([^}]*)}$/,"$1"),n[e]})).split("/")},n=function(e,t){var n,r;if(e.some)return e.some(t);for(n=0,r=e.length;n<r;n++)if(t(e[n],n,e))return!0;return!1},r=function(e,t,r,o){var a,i=r[0],u=r[1],l=e.localeSep,c=r[2],f=r.slice(3,4);return o=o||{},"und"!==i&&"Zzzz"!==u&&"ZZ"!==c?[i,u,c].concat(f):void 0!==t.get("supplemental/likelySubtags")?n([[i,u,c],[i,c],[i,u],[i],["und",u]],function(e){return a=!/\b(Zzzz|ZZ)\b/.test(e.join(l))&&t.get(["supplemental/likelySubtags",e.join(l)])})?(a=a.split(l),["und"!==i?i:a[0],"Zzzz"!==u?u:a[1],"ZZ"!==c?c:a[2]].concat(f)):o.force?t.get("supplemental/likelySubtags/und").split(l):void 0:void 0},o=function(e,t,o){var a,i=o[0],u=o[1],l=o[2],c=o[3];return n([[[i,"Zzzz","ZZ"],[i]],[[i,"Zzzz",l],[i,l]],[[i,u,"ZZ"],[i,u]]],function(n){var i=r(e,t,n[0]);return a=n[1],i&&i[0]===o[0]&&i[1]===o[1]&&i[2]===o[2]})?(c&&a.push(c),a):o},a=function(e){var t,n,r=[];return e=e.replace(/_/,"-"),(t=e.split("-u-"))[1]&&(t[1]=t[1].split("-t-"),e=t[0]+(t[1][1]?"-t-"+t[1][1]:""),r[4]=t[1][0]),n=e.split("-t-")[0],null===(t=n.match(/^(([a-z]{2,3})(-([A-Z][a-z]{3}))?(-([A-Z]{2}|[0-9]{3}))?)((-([a-zA-Z0-9]{5,8}|[0-9][a-zA-Z0-9]{3}))*)$|^(root)$/))?["und","Zzzz","ZZ"]:(r[0]=t[10]||t[2]||"und",r[1]=t[4]||"Zzzz",r[2]=t[6]||"ZZ",t[7]&&t[7].length&&(r[3]=t[7].slice(1)),r)},i=function(e,t){var n,r;if(e.forEach)return e.forEach(t);for(n=0,r=e.length;n<r;n++)t(e[n],n,e)},u=function(e,t){var n,r;return r=e+(t&&JSON?": "+JSON.stringify(t):""),n=new Error(r),n.code=e,i(function(e){var t,n=[];if(Object.keys)return Object.keys(e);for(t in e)n.push(t);return n}(t),function(e){n[e]=t[e]}),n},l=function(e,t,n){if(!t)throw u(e,n)},c=function(e,t){l("E_MISSING_PARAMETER",void 0!==e,{name:t})},f=function(e,t,n,r){l("E_INVALID_PAR_TYPE",n,{expected:r,name:t,value:e})},p=function(t,n){f(t,n,"string"==typeof t||e(t),"String or Array")},s=function(e,t){f(e,t,void 0===e||function(e){return null!==e&&""+e=="[object Object]"}(e),"Plain Object")},d=function(e,t){var n,r=e,o=t.length;for(n=0;n<o-1;n++)if(!(r=r[t[n]]))return;return r[t[n]]},v=function(e,t){var n,r=e._availableBundleMapQueue,o=d(t,["main"]);if(o)for(n in o)o.hasOwnProperty(n)&&"root"!==n&&-1===r.indexOf(n)&&r.push(n)},h=function(t){return e(t)?t:[t]},g=function(){var t=function(){var n={},r=[].slice.call(arguments,0);return i(r,function(r){var o;for(o in r)o in n&&"object"==typeof n[o]&&!e(n[o])?n[o]=t(n[o],r[o]):n[o]=r[o]}),n};return t}(),z=function(e,t,n){var r,o,a;for(c(n[0],"json"),r=0;r<n.length;r++)for(a=h(n[r]),o=0;o<a.length;o++)s(a[o],"json"),t=g(t,a[o]),v(e,a[o]);return t},_=function(e,n,r){var o=t(n,r);return d(e._resolved,o)},b=function(e){this.init(e)};return b._alwaysArray=h,b._coreLoad=z,b._createError=u,b._itemGetResolved=_,b._jsonMerge=g,b._pathNormalize=t,b._resourceGet=d,b._validatePresence=c,b._validateType=f,b._validateTypePath=p,b._validateTypePlainObject=s,b._availableBundleMap={},b._availableBundleMapQueue=[],b._resolved={},b.localeSep="-",b.load=function(){b._resolved=z(b,b._resolved,arguments)},b.prototype.init=function(e){var t,n,u,l,p,s,d,v,h,g=b.localeSep,z="";c(e,"locale"),function(e,t){f(e,t,"string"==typeof e,"a string")}(e,"locale"),5===(s=a(e)).length&&(z=g+"u"+g+(v=s.pop()),s[3]||s.pop()),h=s[3],n=(u=r(b,this,s,{force:!0})||s)[0],p=u[1],d=u[2],l=o(b,this,u).join(g),this.attributes=t={bundle:function(e,t,n){var u=e._availableBundleMap,l=e._availableBundleMapQueue;return l.length&&(i(l,function(n){var i,c,f,p;p=a(n),c=r(e,t,p),f=(f=o(e,t,c)).join(e.localeSep),(i=l[f])&&i.length<n.length||(u[f]=n)}),e._availableBundleMapQueue=[]),u[n]||null}(b,this,l),minLanguageId:l+z,maxLanguageId:u.join(g)+z,language:n,script:p,territory:d,region:d,variant:h},v&&("-"+v).replace(/-[a-z]{3,8}|(-[a-z]{2})-([a-z]{3,8})/g,function(e,n,r){n?t["u"+n]=r:t["u"+e]=!0}),this.locale=e},b.prototype.get=function(e){return c(e,"path"),p(e,"path"),_(b,e,this.attributes)},b.prototype.main=function(e){return c(e,"path"),p(e,"path"),l("E_MISSING_BUNDLE",null!==this.attributes.bundle,{locale:this.locale}),e=h(e),this.get(["main/{bundle}"].concat(e))},b});